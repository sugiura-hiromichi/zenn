---
title: "leetcode11: rust"
emoji: "ğŸ‘"
type: "tech"
topics:
  - "rust"
  - "leetcode"
published: true
published_at: "2022-12-10 14:19"
---

å°‘ã—ãšã¤rustã«æ…£ã‚Œã¦ãã¦å•é¡Œã‚’è§£ãã®ãŒã¡ã‚‡ã£ã¨æ¥½ã—ããªã£ã¦ããŸé ƒ

**æ°—ã«ãªã‚‹ã¨ã“ã‚ãŒå°‘ã—ã§ã‚‚ã‚ã‚Œã° ~~çµ¶å¯¾ã«~~ æ°—å…¼ã­ãªããƒã‚µã‚«ãƒªæŠ•ã’ã¦ãã ã•ã„**

# 11 container with most water

>é•·ã•nã®æ•´æ•°ã®é…åˆ—`height`ãŒä¸ãˆã‚‰ã‚Œã€i,jãŒ
$0 \le i<j<n$
ã‚’æº€ãŸã™
>```
>//æ“¬ä¼¼ã‚³ãƒ¼ãƒ‰
>width=j-i
>height=max(height[i],height[j])
>square=width*height
>```
>ã¨ã—ãŸã¨ã`square`ã®æœ€å¤§å€¤ã‚’è¿”ã™

```rust
impl Solution {
   pub fn max_area(height: Vec<i32,>,) -> i32 {
      let mut tall_j = 0;
      let mut tall_i = 0;
      let mut wide = height.len() - 1;
      let mut square = 0;
      let mut i = 0;
      loop {
         if i >= height.len() {
	    break;
	 }
	
	 if height[i] <= tall_i {
	    while height[i] <= tall_i {
	       if i >= wide {
	          return square;
	       } else {
	          i += 1;
	       }
	    }
	 }
	 tall_i = height[i];
	 let mut j = wide;
	 loop {
	    if i >= j {
	       break;
	    }
	
	    if height[j] < tall_j {
	       while height[j] < tall_j {
		  if i >= j {
		     break;
		  } else {
		     j -= 1;
		  }
	       }
	       continue;
	    }
	    let cmp = (j - i) as i32 * height[i].min(height[j],);
	    if square < cmp {
	       tall_j = height[j];
	       wide = j;
	       square = cmp;
	    }
	    j -= 1;
	 }
	 i += 1;
      }
      square
   }
}
```

### note

è‡ªåˆ†ã®æå‡ºã—ãŸå›ç­”ãŒã‚ã¾ã‚Šã«ã‚‚æ±šã‹ã£ãŸãŸã‚èª­ã‚€æ°—ãŒå¤±ã›ãŸã€‚ä»£ã‚ã‚Šã«Most Votedãªå›ç­”
ï¼ˆã“ã‚Œä»¥é™ã¯ã€*ã‚¹ãƒãƒ¼ãƒˆãªè§£ç­”*ã¨å‘¼ã¶ã“ã¨ã«ã™ã‚‹ï¼‰
ã‚’å‚è€ƒã«è§£ãç›´ã—ã€‚
```rust
impl Solution {
   pub fn max_area(height: Vec<i32,>,) -> i32 {
      let (mut i, mut j, mut water,) = (0, height.len() - 1, 0,);
      while i < j {
	 water = water.max((j - i) as i32 * height[i].min(height[j],),);
	 if height[i] > height[j] {
	    j -= 1;
	 } else {
	ã€€ ã€€i += 1;
	 }
      }
      water
   }
}
```

#### è‡ªåˆ†ã®è§£ç­”ãŒãªãœã‚ã‚ãªã£ã¦ã—ã¾ã£ãŸã‹åˆ†æ

ç«¯çš„ã«ã„ã†ã¨ã€**ã‚ã‚Šå¾—ãªã„å ´åˆã®ã“ã¨ã‚’è€ƒãˆã¦æ²¼ã£ã¦ã„ãŸ**

ã¾ãšã‚¹ãƒãƒ¼ãƒˆãªæ–¹ã¯whileãƒ«ãƒ¼ãƒ—ã‚’å›ã™æ¯ã«jã‚’1æ¸›ã‚‰ã™ or iã‚’1å¢—ã‚„ã™ã¨ã„ã†æ“ä½œã‚’ã—ã¦ã„ã‚‹ã€‚
ä¸€æ–¹è‡ªåˆ†ã®è§£ç­”ã§ã¯ã€loopãŒäºŒé‡ã«ãªã£ã¦ã„ã‚‹ä¸Šã€
å†…å´ã®ãƒ«ãƒ¼ãƒ—ã§ã¯æ¯å›j=height.len()ã§å§‹ã¾ã£ã¦ã„ã‚‹ã€‚
ã“ã‚Œã¯ä»¥ä¸‹ã®æ§˜ãªã‚±ãƒ¼ã‚¹ã‚’æƒ³å®šã—ã¦ã„ãŸã€‚

ä¾‹ãˆã°ã€ã‚ã‚‹i=a,j=bã§`water`ãŒæœ€å¤§å€¤ã«ãªã£ãŸã¨ã™ã‚‹ã€‚
ã“ã®æ™‚`height[a]<height[b]`ã ã£ãŸã¨ã™ã‚‹ã¨ã€
ï¼ˆ`height[b]>height[a]`ã¨ã—ã¦ã‚‚ã„ã„ã€‚ã¨ã„ã†ã‹i,jãŒå…¥ã‚Œæ›¿ã‚ã‚‹ã ã‘ãªã®ã§ã©ã£ã¡ã§ã‚‚è‰¯ã„ï¼‰
ã‚¹ãƒãƒ¼ãƒˆãªæ–¹ã§ã¯i+=1ã•ã‚Œã¦æ¬¡ã®ãƒ«ãƒ¼ãƒ—ã«ç§»ã‚‹ã€‚

ã“ã“ã§ä»®ã«`height[b+1]>height[b] ã‹ã¤ height[b]<height[a+1]`ã ã¨ã—ãŸã‚‰ã€
(a,b)ã®çµ„ã‚ˆã‚Š(a+1,b+1)ã®çµ„ã®æ–¹ãŒwaterã¯å¤§ãããªã‚‹ã€‚
ã—ã‹ã—jã¯å¢—ã‚„ã™ã“ã¨ãŒã§ããªã„ã®ã§ã‚¹ãƒãƒ¼ãƒˆãªå›ç­”ã¯é–“é•ã£ãŸå€¤ã‚’è¿”ã™ã®ã§ã¯ãªã„ã‹

ã‚‚ã¡ã‚ã‚“ã“ã‚Œã¯èµ·ã“ã‚Šå¾—ãªã„ã€‚ãã‚‚ãã‚‚j=b+1ãŒj=bã«ãªã£ãŸã¨ã„ã†ã“ã¨ã¯`height[x]>height[b+1]`ã¨ãªã‚‹x(â‰¤a)ãŒå­˜åœ¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
ã“ã®ã¨ãã€`height[b+1]>height[b]>height[a]`ãªã®ã§(x,b+1)ã®çµ„ã®æ–¹ãŒ(a,b)ã®çµ„ã‚ˆã‚ŠwaterãŒå¤§ãã„å¿…è¦ãŒã‚ã‚‹ãŒã€ã“ã‚Œã¯
>ã‚ã‚‹i=a,j=bã§`water`ãŒæœ€å¤§å€¤ã«ãªã£ãŸ

ã¨ã„ã†å‰æã¨çŸ›ç›¾ã—ã¦ã„ã‚‹ã®ã§`height[b+1]>height[b] ã‹ã¤ height[b]<height[a+1]`ã¨ã„ã†ä»®å®šã¯ãã‚‚ãã‚‚æœ‰ã‚Šå¾—ãªã„ã¨ã‚ã‹ã‚‹ã€‚

