---
title: "leetcode10: rust"
emoji: "ðŸ™„"
type: "tech"
topics:
  - "rust"
  - "leetcode"
published: true
published_at: "2022-12-06 15:14"
---

äººã«èª¬æ˜Žã—ã‚ˆã†ã¨ã™ã‚‹éŽç¨‹ã§ç†è§£ãŒæ·±ã¾ã‚‹ã£ã¦ã¿ã‚“ãªãŒè¨€ã£ã¦ãŸ
ä½•ãŒã‚ã‹ã£ã¦ãªã„ã®ã‹ãŒã‚ã‹ã‚‰ãªã„èµ¤ã¡ã‚ƒã‚“ãªã®ã§ã€**ãƒžã‚µã‚«ãƒªãƒ–ãƒ¬ãƒ¼ãƒ‰ã‚’æŠ•æ“²ã—ã¦ãã‚Œã‚‹å…„è²´å§‰è²´é”ã‚’å¿ƒå¾…ã¡ã«ã—ã¦ãŠã‚Šã¾ã™**

# 10 regular expression matching

>æ–‡å­—åˆ—`s`ã¨`p`ã‚’å—ã‘å–ã‚Šã€`s`ã¨`p`ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒžãƒƒãƒãƒ³ã‚°ã‚’è¡Œã†
>ä½†ã—ã€`p`ã«ã¯ï¼’ã¤ã®ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã€`'.'``'*'`ãŒå«ã¾ã‚Œã¦ãŠã‚Šã€ãã‚Œãžã‚Œ
>`'.'`ã¯ä»»æ„ã®æ–‡å­—ã¨ãƒžãƒƒãƒã™ã‚‹
>`'*'`ã¯ç›´å‰ã®æ–‡å­—ã‚’ä»»æ„ã®å›žæ•°ç¹°ã‚Šè¿”ã™

```rust
//ã€€è‡ªåŠ›ã§ã¯è§£ã‘ãªã‹ã£ãŸ
```

### note

å›žç­”ã‚’è¦‹ã‚‹ã¨å†å¸°ã‚’ç”¨ã„ã‚‹æ–¹æ³•ã¨dynamic programmingãªã‚‹æ–¹æ³•ãŒã‚ã£ãŸã€‚å†å¸°ã•ã›ã‚‹æ–¹ã¯ç†è§£ã§ããŸãŒã€dpã®æ–¹ã¯è¨³ãŒã‚ã‹ã‚‰ãªã‹ã£ãŸã®ã§å™›ã¿ç •ã„ã¦ã¿ã‚‹

```rust
// dynamic programming
impl Solution {
   pub fn is_match(s: String, p: String,) -> bool {
      let mut dp = vec![vec![false; p.len() + 1]; s.len() + 1];
      dp[s.len()][p.len()] = true;

      for i in (0..=s.len()).rev() {
         for j in (0..p.len()).rev() {
            let first_match = i < s.len()
               && (p.chars().nth(j,) == s.chars().nth(i,)
	       || p.chars().nth(j,) == Some('.',));
            if j + 1 < p.len() && p.chars().nth(j + 1,) == Some('*',) {
               dp[i][j] = dp[i][j + 2] || first_match && dp[i + 1][j];
            } else {
               dp[i][j] = first_match && dp[i + 1][j + 1];
            }
         }
      }
      dp[0][0]
   }
}
```

è‡ªåˆ†ã®è§£é‡ˆâ†“

`dp[i][j]==true`ã®å ´åˆã€ã“ã‚Œã¯
```
//æ“¬ä¼¼ã‚³ãƒ¼ãƒ‰
is_match(&s[i..],&p[j..])==true
```
ã«å¯¾å¿œã€`dp[i][j]==false`ã®å ´åˆã€
```
is_match(&s[i..],&p[j..])==false
```
ã«å¯¾å¿œã—ã¦ã„ã‚‹ã€‚ãã—ã¦`dp[i][j]==true`ã«ãªã‚‹æ¡ä»¶ãŒï¼’é‡forãƒ«ãƒ¼ãƒ—ã®ä¸­ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã€‚å…·ä½“çš„ã«ã¯
- sã®iç•ªç›®ã¨pã®jç•ªç›®ãŒåŒã˜ã€ã¾ãŸã¯pã®jç•ªç›®ãŒ`.`ã®å ´åˆ`first_match=true`

- pã®jç•ªç›®ãŒ`*`ã®å ´åˆã€`*`ã®ç¹°ã‚Šè¿”ã™é•·ã•ã«ã‚ˆã£ã¦å ´åˆåˆ†ã‘
	- `*`ã§ä¸€åº¦ã‚‚ç¹°ã‚Šè¿”ã•ãªã„å ´åˆã€`*`ã®éƒ¨åˆ†ã¯ãªã„ã‚‚ã®ã¨ã—ã¦è€ƒãˆã‚Œã‚‰ã‚Œã‚‹ã®ã§`&p[j..]=p[j+2..]`ã¨ã—ã¦è€ƒãˆã¦ã‚‚è‰¯ã„ã€‚ã¤ã¾ã‚Š`dp[i][j]`ã«`dp[i][j+2]`ã®çµæžœã‚’ä»£å…¥ã§ãã‚‹ã€‚
	- `*`ã§å°‘ãªãã¨ã‚‚ï¼‘å›žã¯ç¹°ã‚Šè¿”ã—ãŒã‚ã‚‹å ´åˆã€`s[i..=i]`ã¨`p[j..=j]`ã®æ¯”è¼ƒã¯ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã‚’å«ã¾ãªã„æ™®é€šã®æ–‡å­—ã©ã—ã®æ¯”è¼ƒã«ãªã‚‹ã€‚ãªã®ã§`first_match=false`ãªã‚‰ã°å¿…ãš`dp[i][j]=false`ã€‚`first_match=true`ãªã‚‰ã°ã€ã‚ã¨ã¯ãã‚Œã«ç¶šãæ–‡å­—åˆ—ãŒãƒžãƒƒãƒã™ã‚Œã°ã„ã„ã®ã§`dp[i][j]=dp[i+1][j]`
ã“ã‚Œã‚‰ã®ã©ã¡ã‚‰ã‹ãŒãƒžãƒƒãƒã—ã¦ã„ã‚Œã°è‰¯ã„ã®ã§æœ€çµ‚çš„ã«`dp[i][j]=dp[i][j + 2] || first_match && dp[i + 1][j];`

- pã®jç•ªç›®ãŒ`*`ã§ãªã„å ´åˆã€`first_match=true`ã‹ã¤ã€ãã‚Œã«ç¶šãæ–‡å­—åˆ—ã‚‚ãƒžãƒƒãƒã—ã¦ã‚Œã°è‰¯ã„ã®ã§`dp[i][j]=first_match && dp[i + 1][j + 1];`

æœ€å¾Œã«ã€`is_match(s,p)`ã¯`dp[0][0]`ã¨åŒå€¤ãªã®ã§`dp[0][0]`ã‚’è¿”ã™

ã“ã†ã—ã¦è¦‹ã‚‹ã¨dpã¨å†å¸°ã£ã¦ä¼¼ã¦ã¾ã™ã­ã€‚ã‚ã¨ã“ã®å•é¡Œã‹ã‚‰è‡ªç„¶è¨€èªžå‡¦ç†ã®é—‡ã®æ·±ã•ã‚’åž£é–“è¦‹ãŸæ°—ãŒã™ã‚‹